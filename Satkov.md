Сатков Георгий Александрович\
<b>Когорта:</b> 22\
<b>Группа:</b> 2\
<b>Эпик:</b> Корзина\
<b>[Ссылка на доску](https://trello.com/b/NDCuh1ZQ/%D0%BA%D0%BE%D1%80%D0%B7%D0%B8%D0%BD%D0%B0)</b>

<hr>

# Декомпозиция эпика Корзина

## Модуль 1:

#### Верстка главного экрана корзины
- создать TableView  (est: 30 мин ; fact: 50 мин)
- создать класс ячейки для TableView (est: 30 мин ; fact: 5 мин)
- создать общее вью для отображения рейтинга NFT (est: 30 мин ; fact: 30 мин)
- создать вью "К оплате" на которой будут:   (est: 30 мин ; fact: 20 мин)
    1. label с количеством элементов в корзине
    2. label с общей стоимостью NFT в корзине
    3. кнопка "К оплате"

#### Создать запросы на получение данных для отображения NFT в корзине (est: 30 мин ; fact: 1 час)
- get /api/v1/orders/1 -> получить id nft
- get /api/v1/nft/{nft_id} -> получить данные nft по id


#### Получить данные об NFT в корзине с помощью API
- получать данные для отображения в ячейках и сохранять их локально (est: 2 часа ; fact: 1 час)
- передавать в ячейки полученные из апи данные (est: 1 час ; fact: 1 час)
- заполнить лейблы из вью "К оплате" данными из апи (est: 15 мин ; fact: 30 мин)

#### Добавить фильтрацию
- Создать универсальное общее вью для всплывающего окна с фильтрами (est: 1 час ; fact: 4.5 часа)
- добавить кнопку для показа фильтров в navigationBar на странице корзины (est: 10 мин ; fact: 15 мин)
- Создать общий класс для  inout фильтрации массива с NFT (est: 2 часа ; fact: 10 мин)
- после выбора фильтра, локально отфильтровать nft и обновить tableview (est: 30 мин ; fact: 30 мин)
- сохранить выбранный фильтр в userdefaults (est: 15 мин ; fact: 5 мин)

## Модуль 2:

#### Верстка экрана выбора способа оплаты
- Добавить заголовок страницы (est: 5 мин ; fact: 5 min)
- добавить коллекцию для выбора монеты (est: 30 мин ; fact: 50 min)
- добавить ячейки коллекции (est: 30 мин ; fact: 1.5 h)
- добавить вью с кнопкой и ссылкой на пользовательское соглашение (est: 30 мин ; fact: 1 h)

#### Верстка экрана удаления NFT из корзины
- добавить imageview + textview (est: 5 мин ; fact: 10 min)
- добавить кнопку удаления (est: 5 мин ; fact: 10 min)
- добавить кнопку "вернуться" (est: 5 мин ; fact: 10 min)
- по нажатию на "Вернуться" возвращаться к корзине (est: 5 мин ; fact: 1 min)
- Сделать заблюренный бекграунд (est: 20 мин ; fact: 30 min)

#### Получить список валют в коллекции на странице выбора способа оплаты
- get /api/v1/currencies -> получить массив валют (est: 1 час ; fact: 20 min)
- Отобразить полученные валюты в коллекции (est: 1 час ; fact: 45 min)

## Модуль 3:

#### Верстка экрана после успешной покупки
- imageview + textview (est: 5 мин ; fact: 15 мин)
- кнопка перехода в пустую корзину (est: 20 мин  ; fact: 15 мин)

#### Реализовать оплату
- Реализовать запрос к apiV1Orders1PaymentCurrencyIdGet (est: 1 час ; fact: 30 мин)
- дождаться ответа от бэка и в случае success переправить пользователя к экрану успешной покупки, в случае ошибки, - показать алерт (est: 1 час ; fact: 2 часа)


#### Реализовать удаление nft из корзины
- реализовать запрос apiV1Orders1Put -> передавать в него список, оставшихся после удаления nft в корзине (est: 2 часа  ; fact: 2 часа)
- после нажатия на кнопку удалить на странице удаления NFT выполнить запрос и обновить tableview (est: 1 час ; fact: 30 мин)
